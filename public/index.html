<!DOCTYPE html>
<html>
<head>
	<title>Company Scrap</title>
	<link href='http://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
	<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<h1 class="title">Company Scrap</h1>
<div id="homepage">
	
<div id="comps">
	<h1>Scrap all the data from Viadeo</h1>
</div>

</div>

<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
<script src="https://unpkg.com/react@15/dist/react.js"></script>
<script src="https://unpkg.com/react-dom@15/dist/react-dom.min.js"></script>ï»¿
</body>


<script type="text/babel">
var Comps = React.createClass({
 getInitialState: function(){
	return({
	comps:[]
	
	});
},

	render: function(){
	var comps=this.state.comps;



	comps=comps.map(function(comp,index){
	return(
		<div key={index}>
		Nom: <span className="nom">{comp.nomEntreprise}</span>
			<img src={comp.img}/> 

	Description:<span className="description">{comp.description}</span>

	Nombre d'epmployÃ©e:<span className="nbrEmp">{comp.nbrEmp}</span>
	
	Suivi par:<span className="follwed">{comp.followed}</span>
	




<div>

<h3>Person ðŸ’¼:</h3>

 {comp.person.map(val => { return <ol><li key={val}>
 {val.nomP} {val.jobP} {val.depuis}
 </li> </ol>
 })}
</div>



   <div class="accordion">
    <section class="accordion-item accordion-item--default">
        <h1>Nom de l'entreprise: {comp.nomEntreprise}</h1>
        <img src={comp.img}/> 
        <div class="accordion-item-content ">
          <p>{comp.description}</p>
        </div>
    </section>
    <section class="accordion-item">
        <h1>DÃ©tails:</h1>
        <div class="accordion-item-content">
          <p> Nombre d'employÃ©es : {comp.nbrEmp}</p>

        </div>
    </section>
    <section  class="accordion-item">
        <h1>Social Link</h1>
        <div class="accordion-item-content">
          <p>Content for section 3</p>

		
<a href="{comp.webS}"><img href={comp.webS}  alt="webS" src="img/startup.png"  width="60" height="60"/></a> <a href="{comp.twitter}"><img href={comp.twitter}  alt="twitter" src="img/twitter.png"  width="60" height="60"/></a>
	
        </div>
    </section>
    <section class="accordion-item">
        <h1>ðŸ’¼ EmployÃ©s ðŸ’¼:</h1>
        <div class="accordion-item-content">
          <p>Content for section 4</p>

 {comp.person.map(val => { return <ol><li key={val}>
 {val.nomP} {val.jobP} {val.depuis}
 </li> </ol>
 })}
        </div>
    </section>
</div>




		</div>






	);
	});



	

	return(
	<div id="comp-container">
	<form id="search" onSubmit={this.handleSubmit}>
	<label>Enter the company you want to scrap</label>
	<input type="text" ref="comp" placeholder="Enter the company you want to scrap" required/>

	<input type="submit" value="Find Data"/>
	</form>
	<ul>{comps}</ul>

	</div>

	);
	},
	handleSubmit:function(e){
	e.preventDefault();
	var comp = this.refs.comp.value;
	fetch('http://localhost:3000/api/'+comp).then(function(data){
	return data.json();

	}).then(json=>{
	this.setState({
	comps:json
	})
	});

	}
})

ReactDOM.render(<Comps/>, document.getElementById('comps'))


</script>

</html>